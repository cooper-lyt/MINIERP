<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich" xmlns:a="http://richfaces.org/a4j"
                template="/layout/template.xhtml">

    <ui:define name="toolbar">

        <h:form id="beginActions">
            <a:outputPanel rendered="#{empty storeInAction.selectStore}">
                <rich:toolbar height="26">
                    <rich:toolbarGroup location="right">
                        <a:commandButton value="#{messages.beginStoreIn}" action="#{storeInAction.beginStoreIn}" execute="@form"
                                         render="storeInItem,storeInItems,storeAreaSelectPanel_form,actions,beginActions,resSelectPanel_form">
                            <a:attachQueue requestDelay="0"/>
                        </a:commandButton>
                    </rich:toolbarGroup>
                </rich:toolbar>

                <s:decorate id="selectStoreField" template="/layout/seam-edit.xhtml">
                    <ui:define name="label">#{messages.Store}</ui:define>
                    <rich:select label="#{messages.Store}" required="true" value="#{storeInAction.selectStore}">
                        <s:selectItems value="#{myStores}" var="_store" itemValue="#{_store}"
                                       label="#{_store.name}"/>
                        <f:converter converterId="erpEntityConverter"/>
                    </rich:select>
                </s:decorate>


                <s:decorate id="operDateField" template="/layout/seam-edit.xhtml">
                    <ui:define name="label">#{messages.storeIn_field_dateTime}</ui:define>
                    <rich:calendar
                            enableManualInput="true"
                            inputSize="20"
                            timeZone="#{calendarBean.timeZone}" locale="#{calendarBean.locale}"
                            showApplyButton="#{calendarBean.showApply}" popup="#{calendarBean.popup}"
                            datePattern="#{messages.datetimepattern}"
                            defaultTime="#{currentTime}"
                            defaultLabel="#{org.jboss.seam.framework.currentDatetime}"
                            required="true"
                            label="#{messages.storeIn_field_dateTime}"
                            value="#{storeInAction.storeInDate}"/>
                </s:decorate>

                <s:decorate id="memoField" template="/layout/seam-edit.xhtml">
                    <ui:define name="label">#{messages.field_memo}</ui:define>
                    <h:inputTextarea
                            cols="80"
                            rows="2"
                            label="#{messages.field_memo}"
                            value="#{storeInAction.memo}"/>
                </s:decorate>


                <div style="clear:both">
                    <span class="required">*</span>
                    #{messages.requiredFields}
                </div>

            </a:outputPanel>

        </h:form>

    </ui:define>

</ui:composition>
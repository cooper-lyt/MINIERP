<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a="http://richfaces.org/a4j"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich">

    <a:outputPanel id="selectProductGroupPanel">
        <h:panelGrid columns="4">

            <h:selectOneMenu id="groupSelectFactory" value="#{productGroupSelect.factory}">
                <s:selectItems value="#{validFactoryList.resultList}" var="_factory"
                               noSelectionLabel="#{messages.noSelectLabel}"
                               label="#{_factory.name}"/>
                <f:converter converterId="erpEntityConverter"/>
                <a:ajax event="valueChange" render="gropSelectFactory,selectProductGroup,productGroupSelectTree"/>
            </h:selectOneMenu>

            <h:selectOneMenu id="selectProductGroup" value="#{productGroupSelect.productGroup}"
                             label="#{messages.ProductGroup}" required="#{required}">
                <s:selectItems value="#{productGroupSelect.factoryProductGroups}" var="_group"
                               noSelectionLabel="#{messages.noSelectLabel}"
                               label="#{_group.name}"/>
                <f:converter converterId="erpEntityConverter"/>
                <a:ajax event="valueChange" render="selectProductGroup"/>
            </h:selectOneMenu>

            <a:commandButton image="/img/onetomany.gif" title="#{messages.ProductGroupSelect}" immediate="true"
                             onclick="#{rich:component('productGroupSelectPanel')}.show(); return false;" />
        </h:panelGrid>
    </a:outputPanel>

</ui:composition>